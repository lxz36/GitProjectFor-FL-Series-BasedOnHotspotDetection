import matplotlib.pyplot as plt

# 2024-07-23的实验结果 ResultOutputData_10Nodes_100%Syn_50%Asyn_10%PrivateDate_50%PublicDate_dataSetReductPara-2_round-50_GetTimeIs_2024-07-22_14-46-43
acc_iccad_FedMD_async1 = [0.0, 0.926070226070226, 0.9469314998726762, 0.9347749200690376, 0.9438035820388763, 0.9462184873949578, 0.94699233228645, 0.9297314885550179, 0.9449593979005744, 0.9406883965707495, 0.9380160144866027, 0.9419588037235096, 0.9438417791358968, 0.9478510596157654, 0.9411340293693234, 0.9412783295136237, 0.9409727527374587, 0.9468367144837734, 0.942721330956625, 0.9384559884559884, 0.9364386158503806, 0.9438064114534704, 0.939147780324251, 0.9416928387516622, 0.9407803525450584, 0.9447981212687095, 0.9384588178705826, 0.9451263333616275, 0.9431542313895255, 0.9404889228418639, 0.940960020371785, 0.9430778371954842, 0.9439365645247999, 0.9363834422657952, 0.9451220892397363, 0.9433692668986786, 0.943543275896217, 0.941521659168718, 0.9432433579492404, 0.9455224514048044, 0.9439761763291173, 0.9491441020852787, 0.9449197860962567, 0.9410944175650057, 0.9461378490790257, 0.9435121523356818, 0.9444076620547209, 0.9460020371785077, 0.9438474379650851,0.9451249186543305]
acc_industry_FedMD_async1 = [0.0, 0.8568394903437776, 0.8534578091193206, 0.8581216443625289, 0.8722253385687957, 0.8704703902556294, 0.87012581136309, 0.8695328151294174, 0.876801025723215, 0.8719368539145765, 0.8813847263402514, 0.878027085503646, 0.8811523359243528, 0.8766247295456366, 0.8803910569757193, 0.8856478884526003, 0.8785559740363812, 0.8848385287282635, 0.8852872826348266, 0.8841493709431845, 0.8862248577610385, 0.8860886288965462, 0.8857761038544755, 0.8875791329433449, 0.886120682747015, 0.8900953602051447, 0.8870021636349066, 0.8909447872425675, 0.883315970830996, 0.8922109143360846, 0.8841093036300987, 0.8811042551486498, 0.8856238480647487, 0.8887490984854555, 0.8930202740604214, 0.8880118599246734, 0.8917541469669044, 0.8906723295135827, 0.8884526003686194, 0.8887891657985415, 0.8885888292331116, 0.8893260677938939, 0.8897427678499881, 0.8908886930042472, 0.8924433047519834, 0.8900472794294416, 0.8912893661351069, 0.8946229665838608, 0.8933087587146407, 0.8954964340091353]

acc_iccad_FedAvg_async1=    [0.0, 0.982174688057041, 0.983348895113601, 0.981255128313952, 0.9686500862971451, 0.9635005517358458, 0.9651203915909798, 0.9575304869422517, 0.9432773109243697, 0.9345980816569052, 0.9433621933621934, 0.9348456554338908, 0.9342797725150668, 0.9381136292900999, 0.9241221741221741, 0.9151458563223269, 0.9277438248026485, 0.9291656056361939, 0.9308491073196954, 0.9187250657838893, 0.9253317488611608, 0.9299861358684888, 0.9115737203972498, 0.917076931782814, 0.9211654358713183, 0.9115100585688822, 0.9119556913674561, 0.8889666977902271, 0.909232379820615, 0.9159027247262541, 0.9082562317856435, 0.9022578728461081, 0.9034462269756387, 0.9122881475822652, 0.8983532807062218, 0.9175084175084175, 0.906692980222392, 0.9076903488668193, 0.9174023144611378, 0.8998387233681351, 0.9092818945760122, 0.9099892482245423, 0.9023781229663582, 0.9017344311461958, 0.8954389836742778, 0.9001924001924003, 0.9107885578473812, 0.8999377528789292, 0.909748747984042, 0.9114039555216026]

acc_industry_FedAvg_async1= [0.0, 0.31256510938376475, 0.31256510938376475, 0.31256510938376475, 0.3131661190800545, 0.3138873307156022, 0.31428800384646205, 0.322181264524401, 0.3382081897587948, 0.33844859363731067, 0.3365253626091834, 0.3417341133103614, 0.36329032775062103, 0.3468226620722814, 0.3755909928680183, 0.3829633784758394, 0.3786761759756391, 0.36405160669925474, 0.3811202820738841, 0.41665998878115235, 0.4190640275663114, 0.39446269733151695, 0.43593236637551086, 0.4478323583620483, 0.42403237438897345, 0.47916499719528816, 0.4451077810722013, 0.5402676496514144, 0.4888612869620963, 0.43613270294094075, 0.46017309079253144, 0.4697091113069957, 0.47419665037262604, 0.4301626732911291, 0.4674252744610946, 0.4514784838528728, 0.4860966423591634, 0.466343457007773, 0.44346502123567594, 0.5143040307716964, 0.4985175094158186, 0.4711916018911772, 0.5081737318695408, 0.5214760798140876, 0.5379437454924273, 0.5135427518230627, 0.49607340331757355, 0.5583780751662794, 0.48493469027966984, 0.5175895504447472]



acc_iccad_TraditionalFedMD_async1 = [0.0, 0.9305208952267776, 0.9599736864442747, 0.9569264069264068, 0.9431995020230316, 0.9411071499306793, 0.944127550009903, 0.9328735534617888, 0.9487791076026371, 0.9442775089833914, 0.943964858670741, 0.9457629516453047, 0.9421130068188892, 0.9408949438361203, 0.9389525507172566, 0.9367753161870809, 0.9447981212687093, 0.940064510652746, 0.9400758283111224, 0.9422360863537333, 0.943449905214611, 0.9392864216393628, 0.9399654811419517, 0.9344410491469315, 0.9387431740372916, 0.9377896613190732, 0.9362929009987834, 0.9446651387827858, 0.9393203746144924, 0.9370992841581078, 0.9375944317120787, 0.9389426477661772, 0.9388110799875505, 0.9387884446707977, 0.9372039724980901, 0.9413872619754973, 0.936755510284922, 0.9412104235633647, 0.9380400645106526, 0.9390911920323685, 0.9402880344056814, 0.9409303115185468, 0.9408185496420792, 0.9394519423931188, 0.9398084486319782, 0.9341609371021136, 0.9360212771977479, 0.9346249610955493, 0.9315027020909372, 0.9358967829556064, 0.9383428118722236]

acc_industry_TraditionalFedMD_async1 = [0.0, 0.8325026043753505, 0.839674653417742, 0.8240884686272938, 0.8335683949034378, 0.8517669685070919, 0.8499078451799024, 0.8574244731148329, 0.8615273659748377, 0.8586425194326468, 0.8618479044795256, 0.8569677057456527, 0.8629778027085504, 0.8598846061383123, 0.8622165237599166, 0.8663514704703903, 0.8616555813767128, 0.8586986136709672, 0.8671047359564067, 0.8692523439378157, 0.8616315409888612, 0.8631781392739803, 0.8600849427037423, 0.8667681705264844, 0.8616876352271816, 0.8686112669284398, 0.8678900552928919, 0.8670967224937896, 0.8650212356759355, 0.8656222453722254, 0.8620883083580416, 0.866423591633945, 0.8680823783957049, 0.8689237919705105, 0.869508774741566, 0.8646365894703102, 0.8675374629377355, 0.8705024441060981, 0.8702299863771137, 0.8713759115313728, 0.8651815049282794, 0.8678419745171888, 0.868539145764885, 0.8719048000641078, 0.8716323423351231, 0.8694927478163315, 0.870173892138793, 0.8700536901995353, 0.8651815049282796, 0.8656142319096081, 0.8698212997836364]



acc_iccad_localTraining = [0.9156792009733186]* 50

acc_industry_localTraining =[0.8231989742767851]* 50
print("分界")
# 2024-07-22的实验结果
# FedMD第25轮的测试结果 (10节点, 异步率: 1)
# acc_iccad_FedMD_async1 = [
#     0.0, 0.9302054154995332, 0.9304897716662422, 0.9362518744871686,
#     0.9276844070961718, 0.9353323147440795, 0.9333262597968479, 0.932033217327335,
#     0.9422912599383186, 0.9344933933169228, 0.9362306538777126, 0.9337959426194722,
#     0.9298701298701297, 0.9320204849616613, 0.9289024700789407, 0.9360835243188184,
#     0.9324420677361853, 0.9301035565741447, 0.9366720425543955, 0.9337464278640748,
#     0.931000481000481, 0.92999037999038, 0.9305407011289365, 0.9299493534787653,
#     0.9313923549217666
# ]
# acc_industry_FedMD_async1 = [
#     0.0, 0.8267489382162033, 0.849130539306034, 0.8622886449234715,
#     0.8595881080214761, 0.8628095199935892, 0.8674252744610946, 0.866784197451719,
#     0.8662312685311322, 0.8682907284237519, 0.8722173251061784, 0.8696530170686755,
#     0.8654379357320299, 0.8704623767930123, 0.8718807596762561, 0.8674493148489463,
#     0.8718727462136389, 0.8692443304751982, 0.8726099847744211, 0.8693244651013703,
#     0.869108101610706, 0.8741966503726261, 0.8767930122605978, 0.8743729465502044,
#     0.8719128135267249
# ]
# acc_iccad_FedAvg_async1=[0.0, 0.982174688057041, 0.983348895113601, 0.981255128313952, 0.9686500862971451, 0.9635005517358458, 0.9651203915909798, 0.9575304869422517, 0.9432773109243697, 0.9345980816569052, 0.9433621933621934, 0.9348456554338908, 0.9342797725150668, 0.9381136292900999, 0.9241221741221741, 0.9151458563223269, 0.9277438248026485, 0.9291656056361939, 0.9308491073196954, 0.9187250657838893, 0.9253317488611608, 0.9299861358684888, 0.9115737203972498, 0.917076931782814, 0.9211654358713183]
# acc_industry_FedAvg_async1=[0.0, 0.31256510938376475, 0.31256510938376475, 0.31256510938376475, 0.3131661190800545, 0.3138873307156022, 0.31428800384646205, 0.322181264524401, 0.3382081897587948, 0.33844859363731067, 0.3365253626091834, 0.3417341133103614, 0.36329032775062103, 0.3468226620722814, 0.3755909928680183, 0.3829633784758394, 0.3786761759756391, 0.36405160669925474, 0.3811202820738841, 0.41665998878115235, 0.4190640275663114, 0.39446269733151695, 0.43593236637551086, 0.4478323583620483, 0.42403237438897345]


print("分界")

# 2024-07-22前的实验结果
# FedAvg第25轮的测试结果 (10节点, 异步率: 1)
# acc_iccad_FedAvg_async1 = \
    # [
        # 2024-07-22前的实验结果
    # 0.9728234728234728, 0.9462481962481963, 0.9369960105254223, 0.904974110856464,
    # 0.8882664176781823, 0.8858967829556065, 0.8709645474351356, 0.8468154938743174,
    # 0.8783422459893048, 0.8628794952324365, 0.8528845881787058, 0.8481311716605834,
    # 0.8481948334889511, 0.8447075800016977, 0.8411708117590472, 0.8308575955634779,
    # 0.8470701411877883, 0.85474492827434, 0.8416447387035623, 0.8293862999745352,
    # 0.8199431287666583, 0.8369762046232635, 0.8408949438361203, 0.8321944939591999,
    # 0.836870101575984]
# acc_industry_FedAvg_async1 =
    # [
    # 0.31380719608943025, 0.3572000961615514, 0.3702219729144964, 0.386609503966664,
    # 0.42363170125811356, 0.4133344017950156, 0.43320778908566393, 0.48721852712557095,
    # 0.4518390896706467, 0.4672650052087507, 0.4650212356759356, 0.47736196810641884,
    # 0.4846942864011539, 0.49727542271015307, 0.4838929401394342, 0.512941742126773,
    # 0.4973154900232391, 0.5009215482009777, 0.523239041589871, 0.5433127654459492,
    # 0.5551726901194006, 0.5345780911932045, 0.520514464300024, 0.5094158185752063,
    # 0.5352592355156663]




print()
#------------------------------------------------------------------------上面是数据，下面是数据处理逻辑
len=min(len(acc_iccad_FedMD_async1),len(acc_iccad_FedAvg_async1))

rounds = list(range(1, len+1))

plt.figure(figsize=(14, 6))

# Plotting ICCAD results
plt.subplot(1, 2, 1)
plt.plot(rounds, acc_iccad_FedMD_async1[:len], label='FedMD ICCAD', marker='o')
plt.plot(rounds, acc_iccad_FedAvg_async1[:len], label='FedAvg ICCAD', marker='o')
plt.plot(rounds, acc_iccad_TraditionalFedMD_async1[:len], label='Trad FedMD ICCAD', marker='o')
plt.plot(rounds, acc_iccad_localTraining[:len], label='localTraining ICCAD', marker='o')


plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('ICCAD Test Results (Asynchronous Rate: 1)')
plt.legend()
plt.grid(True)

# Plotting Industry results
plt.subplot(1, 2, 2)
plt.plot(rounds, acc_industry_FedMD_async1[:len], label='FedMD Industry', marker='o')
plt.plot(rounds, acc_industry_FedAvg_async1[:len], label='FedAvg Industry', marker='o')
plt.plot(rounds, acc_industry_TraditionalFedMD_async1[:len], label='Trad FedMD Industry', marker='o')
plt.plot(rounds, acc_industry_localTraining[:len], label='localTraining Industry', marker='o')

plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('Industry Test Results (Asynchronous Rate: 1)')
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()
