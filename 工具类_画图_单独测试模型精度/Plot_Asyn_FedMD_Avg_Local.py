import matplotlib.pyplot as plt

# 2024-07-23的实验结果
acc_iccad_FedMD_async1 = [0.0, 0.5994694847636024, 0.8362080185609597, 0.8463755199049317, 0.963006818889172, 0.7863112921936452, 0.8377896613190732, 0.8381900234841411, 0.8872209489856548, 0.9492869875222816, 0.866417678182384, 0.903381150439974, 0.7032453385394561, 0.7103938545115016, 0.7103018985371927, 0.863691537220949, 0.5706009676597912, 0.6690716690716692, 0.76232917409388, 0.6686614039555216, 0.8051155815861699, 0.6693772458478342, 0.664254590725179, 0.7451984834337775, 0.747297909062615, 0.911370002546473, 0.6906643465466995, 0.7108691961633138, 0.784240160710749, 0.8942209206915089, 0.9411354440766205, 0.9382352941176471, 0.9364372011430835, 0.9391619273972214, 0.6665407577172283, 0.7781173075290722, 0.8682157711569476, 0.9384729649435531, 0.807164077752313, 0.6335625159154572, 0.7110092521857228, 0.7725178960473078, 0.8038876156523216, 0.7374770110064228, 0.8492006903771608, 0.8478878420054891, 0.8432207226324874, 0.5958053928642164, 0.6654457742693037, 0.7109809580397817]
acc_industry_FedMD_async1 = [0.0, 0.7126292170847023, 0.7131340652295857, 0.7627774661431206, 0.7652536260918343, 0.769188236236878, 0.8181985736036541, 0.8299302828752303, 0.8299863771135507, 0.8279669845340173, 0.8100729225098166, 0.8353874509175416, 0.8589630579373347, 0.836549402997035, 0.8400913534738361, 0.82287042230948, 0.8225338568795577, 0.8738520714800865, 0.8657344338488662, 0.8501242086705665, 0.8538344418623287, 0.8655020434329674, 0.8718567192884045, 0.869148168923792, 0.8677217725779309, 0.8653738280310923, 0.8650773299142559, 0.8630178700216362, 0.8680342976200016, 0.8783716643961856, 0.8776264123727863, 0.8736036541389535, 0.87349947912493, 0.8693645324144563, 0.8730988059940701, 0.8721051366295377, 0.871832678900553, 0.8724577289846943, 0.8645244009936693, 0.8790848625691161, 0.87435691962497, 0.8664155781713279, 0.8655821780591394, 0.8587947752223736, 0.8532093917781873, 0.8722974597323503, 0.8713118038304352, 0.8756230467184871, 0.8564227902876832,  0.8615834602131581]
acc_iccad_FedAvg_async1 =[0.0, 0.9301700478171068, 0.9772656537362419, 0.7032722179781004, 0.2755849814673344, 0.28711484593837533, 0.28041620688679514, 0.8223481311716606, 0.9652406417112299, 0.9462977110035935, 0.9139009139009138, 0.6538140508728744, 0.8490648784766431, 0.9320374614492263, 0.9356803327391564, 0.9373921285685991, 0.8988059870412812, 0.903828197945845, 0.905660243895538, 0.8441346235463882, 0.9343575814164049, 0.9258410434881024, 0.9318889171830348, 0.8657372039724981, 0.5960727725433608, 0.4870554282318988, 0.7294160088277736, 0.8384262796027502, 0.8602905808788162, 0.8602905808788162, 0.8716648275471804, 0.9143323996265172, 0.9021659168717993, 0.902583255524432, 0.8564991653226948, 0.9180813739637269, 0.9068981127804656, 0.9075771722830547, 0.9389766007413065, 0.9412542794895737, 0.8912585236114647, 0.8053433494609965, 0.8505361740655857, 0.8626177743824803, 0.780458648105707, 0.8751167133520074, 0.8159324335794924, 0.7819582378405908, 0.9103287779758368, 0.8967900291429703]
acc_industry_FedAvg_async1 =[0.0, 0.42230947992627615, 0.3200977642439298, 0.6341052968987899, 0.855637470951198, 0.8586825867457328, 0.8590832598765928, 0.5168683388091995, 0.3140475999679461, 0.3191361487298662, 0.353033095600609, 0.7073082779068836, 0.4910649891818254, 0.32410449555252824, 0.3265486016507733, 0.3269092074685472, 0.41000881480887885, 0.3819616956486898, 0.3807596762561103, 0.5543312765445949, 0.33420145845019633, 0.342655661511339, 0.32458530330956004, 0.49547239362128376, 0.7798701819056014, 0.8374469108101611, 0.6945268050324546, 0.574565269653017, 0.5201538584822502, 0.5201538584822502, 0.4878996714480327, 0.3622485776103854, 0.40403878515906727, 0.41221251702860806, 0.5416299382963379, 0.368579213077971, 0.4083259876592676, 0.3698613670967225, 0.3191361487298662, 0.31885567753826427, 0.4675855437134386, 0.6316211234874589, 0.585223174933889, 0.5615033255869861, 0.6770173892138793, 0.4986377113550765, 0.6317413254267169, 0.6807035820177899, 0.3713839249939899, 0.43228624088468626]



print("分界")
# 2024-07-22的实验结果
# FedMD第25轮的测试结果 (10节点, 异步率: 1)
# acc_iccad_FedMD_async1 = [
#     0, 0.9302054154995332, 0.9304897716662422, 0.9362518744871686,
#     0.9276844070961718, 0.9353323147440795, 0.9333262597968479, 0.932033217327335,
#     0.9422912599383186, 0.9344933933169228, 0.9362306538777126, 0.9337959426194722,
#     0.9298701298701297, 0.9320204849616613, 0.9289024700789407, 0.9360835243188184,
#     0.9324420677361853, 0.9301035565741447, 0.9366720425543955, 0.9337464278640748,
#     0.931000481000481, 0.92999037999038, 0.9305407011289365, 0.9299493534787653,
#     0.9313923549217666
# ]
# acc_industry_FedMD_async1 = [
#     0, 0.8267489382162033, 0.849130539306034, 0.8622886449234715,
#     0.8595881080214761, 0.8628095199935892, 0.8674252744610946, 0.866784197451719,
#     0.8662312685311322, 0.8682907284237519, 0.8722173251061784, 0.8696530170686755,
#     0.8654379357320299, 0.8704623767930123, 0.8718807596762561, 0.8674493148489463,
#     0.8718727462136389, 0.8692443304751982, 0.8726099847744211, 0.8693244651013703,
#     0.869108101610706, 0.8741966503726261, 0.8767930122605978, 0.8743729465502044,
#     0.8719128135267249
# ]
#
# # FedAvg第25轮的测试结果 (10节点, 异步率: 1)
# acc_iccad_FedAvg_async1 = \
# [0, 0.9821605409840704, 0.9838016014486601,  # 2024-7-22的实验结果
#  0.9811702458761282, 0.9785530373765667, 0.9686288656876891, 0.9641513170924936, 0.9688905865376454, 0.9520414226296581, 0.950845994963642, 0.9356095973743033, 0.9456681662564016, 0.9366918484565543, 0.9094658065246299, 0.9308561808561808, 0.9237402031519679, 0.9231530996236879, 0.9003833856775033, 0.9123942506295448, 0.8938332908921144, 0.913342104518575, 0.9069829952182893, 0.9065515094926859, 0.9094092182327478, 0.9100387629799395]
#
# acc_industry_FedAvg_async1 = \
# [0, 0.31256510938376475, 0.31256510938376475, # 2024-7-22的实验结果
#  0.3126853113230227, 0.31320618639314046, 0.3191361487298662,
#  0.33083580415097363, 0.332558698613671, 0.3567192884045196, 0.36449234714320056, 0.40123407324304833, 0.368539145764885, 0.39826909207468547, 0.4725939578491866, 0.38989502363971473, 0.4088067954162994, 0.4106098245051687, 0.4695087747415658, 0.4511980126612709, 0.4924673451398349, 0.4467505409087266, 0.47419665037262604, 0.47463739081657186, 0.4822101129898229, 0.4829713919384567]
#




#------------------------------------------------------------------------上面是数据，下面是数据处理逻辑
len=min(len(acc_iccad_FedMD_async1),len(acc_iccad_FedAvg_async1))

rounds = list(range(1, len+1))

plt.figure(figsize=(14, 6))

# Plotting ICCAD results
plt.subplot(1, 2, 1)
plt.plot(rounds, acc_iccad_FedMD_async1[:len], label='FedMD ICCAD', marker='o')
plt.plot(rounds, acc_iccad_FedAvg_async1[:len], label='FedAvg ICCAD', marker='o')

plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('ICCAD Test Results (Asynchronous Rate: 0.5)')
plt.legend()
plt.grid(True)

# Plotting Industry results
plt.subplot(1, 2, 2)
plt.plot(rounds, acc_industry_FedMD_async1[:len], label='FedMD Industry', marker='o')
plt.plot(rounds, acc_industry_FedAvg_async1[:len], label='FedAvg Industry', marker='o')

plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('Industry Test Results (Asynchronous Rate: 0.5)')
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()

