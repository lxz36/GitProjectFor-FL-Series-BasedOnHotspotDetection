import matplotlib.pyplot as plt

# 2024-07-23的实验结果 ResultOutputData_10Nodes_100%Syn_50%Asyn_10%PrivateDate_50%PublicDate_dataSetReductPara-2_round-50_GetTimeIs_2024-07-22_14-46-43
acc_iccad_FedMD_async1 = [0.0, 0.926070226070226, 0.9469314998726762, 0.9347749200690376, 0.9438035820388763, 0.9462184873949578, 0.94699233228645, 0.9297314885550179, 0.9449593979005744, 0.9406883965707495, 0.9380160144866027, 0.9419588037235096, 0.9438417791358968, 0.9478510596157654, 0.9411340293693234, 0.9412783295136237, 0.9409727527374587, 0.9468367144837734, 0.942721330956625, 0.9384559884559884, 0.9364386158503806, 0.9438064114534704, 0.939147780324251, 0.9416928387516622, 0.9407803525450584, 0.9447981212687095, 0.9384588178705826, 0.9451263333616275, 0.9431542313895255, 0.9404889228418639, 0.940960020371785, 0.9430778371954842, 0.9439365645247999, 0.9363834422657952, 0.9451220892397363, 0.9433692668986786, 0.943543275896217, 0.941521659168718, 0.9432433579492404, 0.9455224514048044, 0.9439761763291173, 0.9491441020852787, 0.9449197860962567, 0.9410944175650057, 0.9461378490790257, 0.9435121523356818, 0.9444076620547209, 0.9460020371785077, 0.9438474379650851,0.9451249186543305]
acc_industry_FedMD_async1 = [0.0, 0.8568394903437776, 0.8534578091193206, 0.8581216443625289, 0.8722253385687957, 0.8704703902556294, 0.87012581136309, 0.8695328151294174, 0.876801025723215, 0.8719368539145765, 0.8813847263402514, 0.878027085503646, 0.8811523359243528, 0.8766247295456366, 0.8803910569757193, 0.8856478884526003, 0.8785559740363812, 0.8848385287282635, 0.8852872826348266, 0.8841493709431845, 0.8862248577610385, 0.8860886288965462, 0.8857761038544755, 0.8875791329433449, 0.886120682747015, 0.8900953602051447, 0.8870021636349066, 0.8909447872425675, 0.883315970830996, 0.8922109143360846, 0.8841093036300987, 0.8811042551486498, 0.8856238480647487, 0.8887490984854555, 0.8930202740604214, 0.8880118599246734, 0.8917541469669044, 0.8906723295135827, 0.8884526003686194, 0.8887891657985415, 0.8885888292331116, 0.8893260677938939, 0.8897427678499881, 0.8908886930042472, 0.8924433047519834, 0.8900472794294416, 0.8912893661351069, 0.8946229665838608, 0.8933087587146407, 0.8954964340091353]

acc_iccad_FedAvg_async1=    [0.0, 0.982174688057041, 0.983348895113601, 0.981255128313952, 0.9686500862971451, 0.9635005517358458, 0.9651203915909798, 0.9575304869422517, 0.9432773109243697, 0.9345980816569052, 0.9433621933621934, 0.9348456554338908, 0.9342797725150668, 0.9381136292900999, 0.9241221741221741, 0.9151458563223269, 0.9277438248026485, 0.9291656056361939, 0.9308491073196954, 0.9187250657838893, 0.9253317488611608, 0.9299861358684888, 0.9115737203972498, 0.917076931782814, 0.9211654358713183, 0.9115100585688822, 0.9119556913674561, 0.8889666977902271, 0.909232379820615, 0.9159027247262541, 0.9082562317856435, 0.9022578728461081, 0.9034462269756387, 0.9122881475822652, 0.8983532807062218, 0.9175084175084175, 0.906692980222392, 0.9076903488668193, 0.9174023144611378, 0.8998387233681351, 0.9092818945760122, 0.9099892482245423, 0.9023781229663582, 0.9017344311461958, 0.8954389836742778, 0.9001924001924003, 0.9107885578473812, 0.8999377528789292, 0.909748747984042, 0.9114039555216026]

acc_industry_FedAvg_async1= [0.0, 0.31256510938376475, 0.31256510938376475, 0.31256510938376475, 0.3131661190800545, 0.3138873307156022, 0.31428800384646205, 0.322181264524401, 0.3382081897587948, 0.33844859363731067, 0.3365253626091834, 0.3417341133103614, 0.36329032775062103, 0.3468226620722814, 0.3755909928680183, 0.3829633784758394, 0.3786761759756391, 0.36405160669925474, 0.3811202820738841, 0.41665998878115235, 0.4190640275663114, 0.39446269733151695, 0.43593236637551086, 0.4478323583620483, 0.42403237438897345, 0.47916499719528816, 0.4451077810722013, 0.5402676496514144, 0.4888612869620963, 0.43613270294094075, 0.46017309079253144, 0.4697091113069957, 0.47419665037262604, 0.4301626732911291, 0.4674252744610946, 0.4514784838528728, 0.4860966423591634, 0.466343457007773, 0.44346502123567594, 0.5143040307716964, 0.4985175094158186, 0.4711916018911772, 0.5081737318695408, 0.5214760798140876, 0.5379437454924273, 0.5135427518230627, 0.49607340331757355, 0.5583780751662794, 0.48493469027966984, 0.5175895504447472]

acc_iccad_TraditionalFedMD_async1 = [0.0, 0.9305208952267776, 0.9599736864442747, 0.9569264069264068, 0.9431995020230316, 0.9411071499306793, 0.944127550009903, 0.9328735534617888, 0.9487791076026371, 0.9442775089833914, 0.943964858670741, 0.9457629516453047, 0.9421130068188892, 0.9408949438361203, 0.9389525507172566, 0.9367753161870809, 0.9447981212687093, 0.940064510652746, 0.9400758283111224, 0.9422360863537333, 0.943449905214611, 0.9392864216393628, 0.9399654811419517, 0.9344410491469315, 0.9387431740372916, 0.9377896613190732, 0.9362929009987834, 0.9446651387827858, 0.9393203746144924, 0.9370992841581078, 0.9375944317120787, 0.9389426477661772, 0.9388110799875505, 0.9387884446707977, 0.9372039724980901, 0.9413872619754973, 0.936755510284922, 0.9412104235633647, 0.9380400645106526, 0.9390911920323685, 0.9402880344056814, 0.9409303115185468, 0.9408185496420792, 0.9394519423931188, 0.9398084486319782, 0.9341609371021136, 0.9360212771977479, 0.9346249610955493, 0.9315027020909372, 0.9358967829556064, 0.9383428118722236]

acc_industry_TraditionalFedMD_async1 = [0.0, 0.8325026043753505, 0.839674653417742, 0.8240884686272938, 0.8335683949034378, 0.8517669685070919, 0.8499078451799024, 0.8574244731148329, 0.8615273659748377, 0.8586425194326468, 0.8618479044795256, 0.8569677057456527, 0.8629778027085504, 0.8598846061383123, 0.8622165237599166, 0.8663514704703903, 0.8616555813767128, 0.8586986136709672, 0.8671047359564067, 0.8692523439378157, 0.8616315409888612, 0.8631781392739803, 0.8600849427037423, 0.8667681705264844, 0.8616876352271816, 0.8686112669284398, 0.8678900552928919, 0.8670967224937896, 0.8650212356759355, 0.8656222453722254, 0.8620883083580416, 0.866423591633945, 0.8680823783957049, 0.8689237919705105, 0.869508774741566, 0.8646365894703102, 0.8675374629377355, 0.8705024441060981, 0.8702299863771137, 0.8713759115313728, 0.8651815049282794, 0.8678419745171888, 0.868539145764885, 0.8719048000641078, 0.8716323423351231, 0.8694927478163315, 0.870173892138793, 0.8700536901995353, 0.8651815049282796, 0.8656142319096081, 0.8698212997836364]



acc_iccad_localTraining = [0.9156792009733186]* 50

acc_industry_localTraining =[0.8231989742767851]* 50

 # [0.9328579916815212, 0.9316455875279404, 0.9220185043714455, 0.8995939790057437, 0.9175876411170527, 0.8945731828084769, 0.8994256288373936, 0.8831692272868743, 0.8495472936649409, 0.8538211244093598, 0.8458888605947429, 0.8349857114562995, 0.8208626885097473, 0.8328014033896386, 0.8321562968621793, 0.7696149166737402, 0.8240415358062417, 0.718860877684407, 0.7331961067255184, 0.6795093795093795, 0.7011699629346688, 0.684360410830999, 0.6598704128115893, 0.6215007215007214, 0.7046402399343575, 0.6419248507483801, 0.6271538918597741, 0.6791854115383528, 0.5852827999886824, 0.48230908525026167, 0.6115029850323968, 0.6112384347678466, 0.5962934668817021, 0.6597756274226863, 0.635107376283847, 0.5930863254392666, 0.5797258297258298, 0.6260843731431966, 0.624025974025974, 0.6614817644229409, 0.6124069829952183, 0.6249794867441926, 0.6007243301360948, 0.6975369945958182, 0.5487734487734487, 0.6981226834168011, 0.6719421101774044, 0.5723396429278782, 0.6479161361514303, 0.6588249441190618]
 #
 # [0.8053610064909048, 0.7948233031492908, 0.7602612388813206, 0.7667681705264845, 0.754130939979165, 0.7342976200016026, 0.7312444907444506, 0.7373026684830516, 0.7500040067313086, 0.7337687314688678, 0.7306915618238641, 0.7275823383283917, 0.7280551326228062, 0.72498597644042, 0.7348745893100409, 0.7235996474076448, 0.7172690119400593, 0.7153377674493149, 0.6935812164436254, 0.7186473275102172, 0.7191762160429522, 0.7176216042952159, 0.7172529850148248, 0.7136549402997034, 0.6995432326308197, 0.7047039025562946, 0.7070758874909848, 0.7020033656542992, 0.6576488500681144, 0.6643481048160911, 0.6793332799102492, 0.7048160910329353, 0.733576408366055, 0.731869540828592, 0.7280551326228063, 0.7114031573042711, 0.6927798701819057, 0.6938616876352272, 0.6567032614792853, 0.6682426476480486, 0.7143841653978684, 0.7186633544354516, 0.7404199054411411, 0.6978363650933568, 0.7342415257632823, 0.7113390496033336, 0.6915538104014745, 0.7233912973795978, 0.7067072682105937, 0.675334562064268]


acc_iccad_FedProx_async1 =[0.0, 0.7803056027164686, 0.8772495755517825, 0.905149971703452, 0.9172043010752688, 0.9162988115449915, 0.913469156762875, 0.907187323146576, 0.9041878890775326, 0.9046406338426711, 0.8983588002263723, 0.9004527447651386, 0.8920203735144312, 0.896434634974533, 0.8963214487832485, 0.883644595359366, 0.8867572156196944, 0.8882286361063949, 0.879173740803622, 0.8748726655348047, 0.8735710243350312, 0.8764006791171477, 0.8677985285795133, 0.8695529145444256, 0.8750990379173741, 0.8834748160724392, 0.8932654216185625, 0.8855121675155632, 0.8730050933786078, 0.8706281833616298, 0.8744765138653084, 0.8672891907187322, 0.8601584606677986, 0.8754951895868703, 0.870118845500849, 0.8714770797962649, 0.8732880588568193, 0.860894170911149, 0.8594227504244483, 0.868081494057725, 0.8411431805319751, 0.855800792303339, 0.8730616864742501, 0.868081494057725, 0.862988115449915, 0.870967741935484, 0.8487266553480476, 0.8584606677985287, 0.8505942275042445, 0.8456140350877194]
acc_industry_FedProx_async1 = [0.0, 0.6791182364729459, 0.7286573146292585, 0.7568737474949899, 0.7634468937875751, 0.7556713426853708, 0.7705811623246492, 0.770501002004008, 0.7752304609218437, 0.7730661322645291, 0.771943887775551, 0.773066132264529, 0.7780360721442886, 0.7713026052104208, 0.7701002004008017, 0.7728256513026052, 0.7728256513026052, 0.7701002004008016, 0.775871743486974, 0.7708216432865732, 0.7809218436873748, 0.7680961923847696, 0.7694589178356713, 0.7724248496993987, 0.7502204408817635, 0.76937875751503, 0.7680961923847696, 0.7571142284569139, 0.7541482965931865, 0.767935871743487, 0.7730661322645291, 0.7654509018036072, 0.7533466933867736, 0.75374749498998, 0.7508617234468937, 0.734188376753507, 0.7345090180360722, 0.7542284569138277, 0.746933867735471, 0.7399599198396793, 0.7394789579158317, 0.7367535070140281, 0.7456513026052105, 0.749258517034068, 0.7405210420841684, 0.7416432865731462, 0.7276152304609218, 0.7519038076152305, 0.7208817635270541, 0.7252905811623247]

print("分界")




print()
#------------------------------------------------------------------------上面是数据，下面是数据处理逻辑
len=min(len(acc_iccad_FedMD_async1),len(acc_iccad_FedAvg_async1))

rounds = list(range(1, len+1))

plt.figure(figsize=(14, 6))

# Plotting ICCAD results
plt.subplot(1, 2, 1)
plt.plot(rounds, acc_iccad_FedMD_async1[:len], label='FedMD-Conv ICCAD', marker='o')
plt.plot(rounds, acc_iccad_FedAvg_async1[:len], label='FedAvg ICCAD', marker='o')
plt.plot(rounds, acc_iccad_TraditionalFedMD_async1[:len], label='Trad FedMD-Conv ICCAD', marker='o')
plt.plot(rounds, acc_iccad_localTraining[:len], label='localTraining ICCAD', marker='o')
plt.plot(rounds, acc_iccad_FedProx_async1[:len], label='FedProx ICCAD', marker='o')


plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('ICCAD Test Results (Asynchronous Rate: 1)')
plt.legend()
plt.grid(True)

# Plotting Industry results
plt.subplot(1, 2, 2)
plt.plot(rounds, acc_industry_FedMD_async1[:len], label='FedMD-Conv Industry', marker='o')
plt.plot(rounds, acc_industry_FedAvg_async1[:len], label='FedAvg Industry', marker='o')
plt.plot(rounds, acc_industry_TraditionalFedMD_async1[:len], label='Trad FedMD-Conv Industry', marker='o')
plt.plot(rounds, acc_industry_localTraining[:len], label='localTraining Industry', marker='o')
plt.plot(rounds, acc_industry_FedProx_async1[:len], label='FedProx Industry', marker='o')

plt.xlabel('Round')
plt.ylabel('Accuracy')
plt.title('Industry Test Results (Asynchronous Rate: 1)')
plt.legend()
plt.grid(True)

plt.tight_layout()
plt.show()
